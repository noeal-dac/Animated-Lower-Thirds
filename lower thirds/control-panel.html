<!DOCTYPE html>
<html lang="en">
	<head>
		<!--Animated Lower Thirds v1.2-->
		<!--Author: NoeAL-->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<title>Lower Thirds Control Panel</title>
		<link rel="stylesheet" href="../common/css/style-control_panel.css">
		<script src='https://kit.fontawesome.com/a076d05399.js'></script>
		<script src="../common/js/jquery.js"></script>
		<script src="../common/js/jscolor.js"></script>
		<script src="../common/js/hotkeys.js"></script>
		<script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
	</head>
	<body class="lower-thirds-panel panel">
		<div id="alt-panel" class="static-panel-top" style="margin-bottom: 0px">
			
			<div id="alt-main-config-content"> <!--// Main Settings//-->
				<label class="switch">
				<input class="checkbox-storable" type="checkbox" id="lower-thirds-masterswitch"> <!--"checked" to active switch-->
				<span class="slider round"></span>
				</label>
				<label class="accordion"><i class="fas">&#xf013;</i>Main settings</label>
				<div id="global-configuration" class="hidable">
					<div id="time-options">
						<div class="settings-title">Global times</div>
						<div class="settings-inputs">
							<input class="storable" id="global-animation-time" placeholder="4s (in-out)" tabindex="1">
							<input class="storable" id="global-active-time" placeholder="25s (active)" tabindex="2">
							<input class="storable" id="global-inactive-time" placeholder="420s (inactive)" tabindex="3">
						</div>
					</div>
					<div id="theme-options">
						<div class="settings-title">Theme</div>
						<div class="settings-inputs">
							<select name="theme" id="theme" class="select-settings-storable" onchange="changeTheme(this.value)"></select>
						</div>
					</div>
				</div>		
			</div>

			<div id="sortable">
				<div class="sortees" id="alt_1"> <!--// Lower Third 1//-->
					<div id="alt-1-config-content">
						<label class="switch">
						<input class="checkbox-storable" type="checkbox" id="lower-thirds-switch1">
						<span class="slider round"></span>
						</label>
						<label class="config-btn preview-btn">
							<input class="checkbox-storable" type="checkbox" id="alt-1-preview">
							<span class="icon-btn"><i class='fas'>&#xf002;</i></span>
						</label>
						<div class="drag-handle">
							<i class="fas alt-icon">&#xf550;</i><div id="alt-1-title" class="renameable title-storable">Lower Third 1</div>
						</div>
						<label class="accordion"></label>
						<div class="hidable">
							<div class="grid-container">
								<div class="grid-row-1">
							    <div>
									<label class="config-btn">
										<input class="checkbox-storable" type="checkbox" id="alt-1-logo">
										<span class="icon-btn"><i class='fas'>&#xf03e;</i></span>
									</label>
									<label class="config-btn">
										<input class="checkbox-storable" type="checkbox" id="alt-1-background">
										<span class="icon-btn"><i class='fas'>&#xf576;</i></span>
									</label>
									<label class="config-btn">
										<input class="checkbox-storable" type="checkbox" id="alt-1-shadows">
										<span class="icon-btn"><i class='fas fa-rotate-270'>&#xf24d;</i></span>
									</label>
									<div class="align-toggle">
									  <input class="radio-storable" id="alt-1-align-left" name="alt-1-align" type="radio" value="left" checked/>
									  <label for="alt-1-align-left" onclick=""><i class="fas">&#xf036;</i></label>
									  <input class="radio-storable" id="alt-1-align-center" name="alt-1-align" type="radio" value="center" />
									  <label for="alt-1-align-center" onclick=""><i class="fas">&#xf037;</i></label>
									  <input class="radio-storable" id="alt-1-align-right" name="alt-1-align" type="radio" value="right" />
									  <label for="alt-1-align-right" onclick=""><i class="fas">&#xf038;</i></label>
									</div>
							    </div>
							    <div>
									<div id="alt-1-style-color-appearance">
										<div class="tool-tittle">Color 1</div>
										<input class="storable" id="alt-1-style-color-1" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="D54141">
										<div class="tool-tittle">Color 2</div>
										<input class="storable" id="alt-1-style-color-2" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="222222">
									</div>
							    </div>
								</div>
								<div class="grid-row-2">
							    <div>
									<div class="number-input">
										<input id="alt-1-style" class="storable" min="1" max="2" name="quantity" value="1" type="number" placeholder="1" readonly>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										<div class="input-icon"><i class="fas">&#xf1fc;</i></div>
									</div>
							    </div>
							    <div>
									<div class="number-input">
										<input id="alt-1-size" class="storable" min="10" max="50" name="quantity" value="24" type="number" placeholder="24">
										<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										<div class="input-icon"><i class="fas">&#xf424;</i></div>
									</div>
							    </div>
							    <div class="margin-config group">
									<div class="number-input">
										<input id="alt-1-margin-h" class="storable" min="0" max="100" name="quantity" value="4" type="number" placeholder="4">
										<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										<div class="input-icon"><i class="fas">&#xf31e;</i></div>
									</div>
									<div class="number-input input-no-icon">
										<input id="alt-1-margin-v" class="storable" min="0" max="55" name="quantity" value="4" type="number" placeholder="4">
										<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
									</div>
							    </div>
								</div>
								<div class="grid-row-3">
							    <div>
									<div class="number-input">
									  <input id="alt-1-inverse-ratio" class="storable" min="0" max="10" name="quantity" value="9" type="number" placeholder="9">
									  <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
									  <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
									  <div class="input-icon"><i class="fas">&#xf034;</i></div>
									</div>
							    </div>
							    <div>
									<div class="number-input">
									   <input id="alt-1-line-spacing" class="storable" min="-5" max="5" name="quantity" value="2" type="number" placeholder="0">
									  <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
									  <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
									  <div class="input-icon"><i class="fas fa-rotate-270">&#xf362;</i></div>
									</div>
							    </div>
							    <div class="font-config group">
									<div class="input-icon"><i class="fas">&#xf031;</i></div>
									<select id="alt-1-font" class="font-storable">
										<option value="'Open Sans', sans-serif" selected="selected">Open Sans</option> 
										<option value="'Poppins', sans-serif">Poppins</option>
										<option value="'Raleway', sans-serif">Raleway</option> 
										<option value="'Anonymous Pro', monospace">Anonymous Pro</option> 
										<option value="'Patua One', cursive">Patua One</option>;
										<option value="'Abril Fatface', cursive">Abril Fatface</option>
										<option value="'Lora', serif">Lora</option>
										<option value="'Cookie', cursive">Cookie</option>
										<option value="'Oleo Script', cursive">Oleo Script</option>
										<option value="'Kalam', cursive">Kalam</option>
										<option value="'Fredoka One', cursive">Fredoka One</option>
								    </select>
							    </div>
								</div>
							</div>					
						</div>
						<div class="textfields-container">
							<input class="storable" type="text" id="alt-1-name" placeholder="Name" tabindex="4">
							<div id="alt-1-name-appearance">
								<label class="config-btn">
								<input class="checkbox-storable" type="checkbox" id="alt-1-name-transform" checked>
								<span class="icon-btn"><i class='fas'>&#xf031;</i><p>a</p></span>
								</label>
								<label class="config-btn">
									<input class="checkbox-storable" type="checkbox" id="alt-1-name-weight" checked>
									<span class="icon-btn"><i class='fas'>&#xf032;</i></span>
								</label>
								<input class="storable" id="alt-1-name-color" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="f2f2f2">
							</div>
							<input class="storable" type="text" id="alt-1-info" placeholder="Info" tabindex="5">
							<div id="alt-1-info-appearance">
								<label class="config-btn">
									<input class="checkbox-storable" type="checkbox" id="alt-1-info-transform">
									<span class="icon-btn"><i class='fas'>&#xf031;</i><p>a</p></span>
								</label>
								<label class="config-btn">
									<input class="checkbox-storable" type="checkbox" id="alt-1-info-weight">
									<span class="icon-btn"><i class='fas'>&#xf032;</i></span>
								</label>
								<input class="storable" id="alt-1-info-color" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="555555">
							</div>	
							<div style="clear:both"></div>
							<div class="panel-bottom">
								<div id="alt-1-clean-inputs" class="clean"><i class="fas">&#xf00d;</i></div>
								<ul id="alt-1-memory-slots">
									<li id="alt-1-slot-1"><div class="slot-storable stored-name" id="alt-1-name-1"></div><div class="slot-storable stored-info" id="alt-1-info-1"></div></li>
									<li id="alt-1-slot-2"><div class="slot-storable stored-name" id="alt-1-name-2"></div><div class="slot-storable stored-info" id="alt-1-info-2"></div></li>
									<li id="alt-1-slot-3"><div class="slot-storable stored-name" id="alt-1-name-3"></div><div class="slot-storable stored-info" id="alt-1-info-3"></div></li>
									<li id="alt-1-slot-4"><div class="slot-storable stored-name" id="alt-1-name-4"></div><div class="slot-storable stored-info" id="alt-1-info-4"></div></li>
									<li id="alt-1-slot-5"><div class="slot-storable stored-name" id="alt-1-name-5"></div><div class="slot-storable stored-info" id="alt-1-info-5"></div></li>
									<li id="alt-1-slot-6"><div class="slot-storable stored-name" id="alt-1-name-6"></div><div class="slot-storable stored-info" id="alt-1-info-6"></div></li>
									<li id="alt-1-slot-7"><div class="slot-storable stored-name" id="alt-1-name-7"></div><div class="slot-storable stored-info" id="alt-1-info-7"></div></li>
									<li id="alt-1-slot-8"><div class="slot-storable stored-name" id="alt-1-name-8"></div><div class="slot-storable stored-info" id="alt-1-info-8"></div></li>
									<li id="alt-1-slot-9"><div class="slot-storable stored-name" id="alt-1-name-9"></div><div class="slot-storable stored-info" id="alt-1-info-9"></div></li>
									<li id="alt-1-slot-10"><div class="slot-storable stored-name" id="alt-1-name-10"></div><div class="slot-storable stored-info" id="alt-1-info-10"></div></li>
								</ul>
								<div class="time-bar">
									<div id="alt-1-active-time-monitor">0</div>
									<div id="alt-1-inactive-time-monitor">0</div>
								</div>
								<label id="alt-1-custom-times" class="accordion"><i class="fas">&#xf017;</i></label>
								<div class="hidable">
									<div class="alt-time-options">
										<div class="settings-title">Custom times</div>
										<div class="settings-inputs">
											<input class="storable" id="alt-1-animation-time" placeholder="(in-out)" tabindex="12">
											<input class="storable" id="alt-1-active-time" placeholder="(active)" tabindex="13">
											<input class="storable" id="alt-1-inactive-time" placeholder="(inactive)" tabindex="14">
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="sortees" id="alt_2"> <!--// Lower Third 2//-->
					<div id="alt-2-config-content">
						<label class="switch">
						<input class="checkbox-storable" type="checkbox" id="lower-thirds-switch2">
						<span class="slider round"></span>
						</label>
						<label class="config-btn preview-btn">
							<input class="checkbox-storable" type="checkbox" id="alt-2-preview">
							<span class="icon-btn"><i class='fas'>&#xf002;</i></span>
						</label>
						<div class="drag-handle">
							<i class="fas alt-icon">&#xf550;</i><div id="alt-2-title" class="renameable title-storable">Lower Third 2</div>
						</div>
						<label class="accordion"></label>
						<div class="hidable">
							<div class="grid-container">
							  <div class="grid-row-1">
							    <div>
									<label class="config-btn">
										<input class="checkbox-storable" type="checkbox" id="alt-2-logo">
										<span class="icon-btn"><i class='fas'>&#xf03e;</i></span>
									</label>
									<label class="config-btn">
										<input class="checkbox-storable" type="checkbox" id="alt-2-background">
										<span class="icon-btn"><i class='fas'>&#xf576;</i></span>
									</label>
									<label class="config-btn">
										<input class="checkbox-storable" type="checkbox" id="alt-2-shadows">
										<span class="icon-btn"><i class='fas fa-rotate-270'>&#xf24d;</i></span>
									</label>
									<div class="align-toggle">
									  <input class="radio-storable" id="alt-2-align-left" name="alt-2-align" type="radio" value="left" checked/>
									  <label for="alt-2-align-left" onclick=""><i class="fas">&#xf036;</i></label>
									  <input class="radio-storable" id="alt-2-align-center" name="alt-2-align" type="radio" value="center" />
									  <label for="alt-2-align-center" onclick=""><i class="fas">&#xf037;</i></label>
									  <input class="radio-storable" id="alt-2-align-right" name="alt-2-align" type="radio" value="right" />
									  <label for="alt-2-align-right" onclick=""><i class="fas">&#xf038;</i></label>
									</div>
							    </div>
							    <div>
									<div id="alt-2-style-color-appearance">
										<div class="tool-tittle">Color 1</div>
										<input class="storable" id="alt-2-style-color-1" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="D54141">
										<div class="tool-tittle">Color 2</div>
										<input class="storable" id="alt-2-style-color-2" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="222222">
									</div>
							    </div>
							  </div>
							  <div class="grid-row-2">
							    <div>
									<div class="number-input">
										<input id="alt-2-style" class="storable" min="1" max="2" name="quantity" value="1" type="number" placeholder="1" readonly>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										<div class="input-icon"><i class="fas">&#xf1fc;</i></div>
									</div>
							    </div>
							    <div>
									<div class="number-input">
										<input id="alt-2-size" class="storable" min="10" max="50" name="quantity" value="24" type="number" placeholder="24">
										<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										<div class="input-icon"><i class="fas">&#xf424;</i></div>
									</div>
							    </div>
							    <div class="margin-config group">
									<div class="number-input">
										<input id="alt-2-margin-h" class="storable" min="0" max="100" name="quantity" value="4" type="number" placeholder="4">
										<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										<div class="input-icon"><i class="fas">&#xf31e;</i></div>
									</div>
									<div class="number-input input-no-icon">
										<input id="alt-2-margin-v" class="storable" min="0" max="55" name="quantity" value="4" type="number" placeholder="4">
										<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
									</div>
							    </div>
							  </div>
							  <div class="grid-row-3">
							    <div>
									<div class="number-input">
									  <input id="alt-2-inverse-ratio" class="storable" min="0" max="10" name="quantity" value="9" type="number" placeholder="9">
									  <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
									  <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
									  <div class="input-icon"><i class="fas">&#xf034;</i></div>
									</div>
							    </div>
							    <div>
									<div class="number-input">
									   <input id="alt-2-line-spacing" class="storable" min="-5" max="5" name="quantity" value="2" type="number" placeholder="0">
									  <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
									  <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
									  <div class="input-icon"><i class="fas fa-rotate-270">&#xf362;</i></div>
									</div>
							    </div>
							    <div class="font-config group">
									<div class="input-icon"><i class="fas">&#xf031;</i></div>
									<select id="alt-2-font" class="font-storable">
										<option value="'Open Sans', sans-serif" selected="selected">Open Sans</option> 
										<option value="'Poppins', sans-serif">Poppins</option>
										<option value="'Raleway', sans-serif">Raleway</option> 
										<option value="'Anonymous Pro', monospace">Anonymous Pro</option> 
										<option value="'Patua One', cursive">Patua One</option>;
										<option value="'Abril Fatface', cursive">Abril Fatface</option>
										<option value="'Lora', serif">Lora</option>
										<option value="'Cookie', cursive">Cookie</option>
										<option value="'Oleo Script', cursive">Oleo Script</option>
										<option value="'Kalam', cursive">Kalam</option>
										<option value="'Fredoka One', cursive">Fredoka One</option>
								    </select>
							    </div>
							  </div>
							</div>					
						</div>
						<div class="textfields-container">
							<input class="storable" type="text" id="alt-2-name" placeholder="Name" tabindex="6">
							<div id="alt-2-name-appearance">
								<label class="config-btn">
								<input class="checkbox-storable" type="checkbox" id="alt-2-name-transform" checked>
								<span class="icon-btn"><i class='fas'>&#xf031;</i><p>a</p></span>
								</label>
								<label class="config-btn">
									<input class="checkbox-storable" type="checkbox" id="alt-2-name-weight" checked>
									<span class="icon-btn"><i class='fas'>&#xf032;</i></span>
								</label>
								<input class="storable" id="alt-2-name-color" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="f2f2f2">
							</div>
							<input class="storable" type="text" id="alt-2-info" placeholder="Info" tabindex="7">
							<div id="alt-2-info-appearance">
								<label class="config-btn">
									<input class="checkbox-storable" type="checkbox" id="alt-2-info-transform">
									<span class="icon-btn"><i class='fas'>&#xf031;</i><p>a</p></span>
								</label>
								<label class="config-btn">
									<input class="checkbox-storable" type="checkbox" id="alt-2-info-weight">
									<span class="icon-btn"><i class='fas'>&#xf032;</i></span>
								</label>
								<input class="storable" id="alt-2-info-color" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="555555">
							</div>	
							<div style="clear:both"></div>
							<div class="panel-bottom">
								<div id="alt-2-clean-inputs" class="clean"><i class="fas">&#xf00d;</i></div>
								<ul id="alt-2-memory-slots">
									<li id="alt-2-slot-1"><div class="slot-storable stored-name" id="alt-2-name-1"></div><div class="slot-storable stored-info" id="alt-2-info-1"></div></li>
									<li id="alt-2-slot-2"><div class="slot-storable stored-name" id="alt-2-name-2"></div><div class="slot-storable stored-info" id="alt-2-info-2"></div></li>
									<li id="alt-2-slot-3"><div class="slot-storable stored-name" id="alt-2-name-3"></div><div class="slot-storable stored-info" id="alt-2-info-3"></div></li>
									<li id="alt-2-slot-4"><div class="slot-storable stored-name" id="alt-2-name-4"></div><div class="slot-storable stored-info" id="alt-2-info-4"></div></li>
									<li id="alt-2-slot-5"><div class="slot-storable stored-name" id="alt-2-name-5"></div><div class="slot-storable stored-info" id="alt-2-info-5"></div></li>
									<li id="alt-2-slot-6"><div class="slot-storable stored-name" id="alt-2-name-6"></div><div class="slot-storable stored-info" id="alt-2-info-6"></div></li>
									<li id="alt-2-slot-7"><div class="slot-storable stored-name" id="alt-2-name-7"></div><div class="slot-storable stored-info" id="alt-2-info-7"></div></li>
									<li id="alt-2-slot-8"><div class="slot-storable stored-name" id="alt-2-name-8"></div><div class="slot-storable stored-info" id="alt-2-info-8"></div></li>
									<li id="alt-2-slot-9"><div class="slot-storable stored-name" id="alt-2-name-9"></div><div class="slot-storable stored-info" id="alt-2-info-9"></div></li>
									<li id="alt-2-slot-10"><div class="slot-storable stored-name" id="alt-2-name-10"></div><div class="slot-storable stored-info" id="alt-2-info-10"></div></li>
								</ul>
								<div class="time-bar">
									<div id="alt-2-active-time-monitor">0</div>
									<div id="alt-2-inactive-time-monitor">0</div>
								</div>
								<label id="alt-2-custom-times" class="accordion"><i class="fas">&#xf017;</i></label>
								<div class="hidable">
									<div class="alt-time-options">
										<div class="settings-title">Custom times</div>
										<div class="settings-inputs">
											<input class="storable" id="alt-2-animation-time" placeholder="(in-out)" tabindex="15">
											<input class="storable" id="alt-2-active-time" placeholder="(active)" tabindex="16">
											<input class="storable" id="alt-2-inactive-time" placeholder="(inactive)" tabindex="17">
										</div>
									</div>
								</div>								
							</div>
						</div>
					</div>
				</div>

				<div class="sortees" id="alt_3"> <!--// Lower Third 3//-->
					<div id="alt-3-config-content">
						<label class="switch">
						<input class="checkbox-storable" type="checkbox" id="lower-thirds-switch3">
						<span class="slider round"></span>
						</label>
						<label class="config-btn preview-btn">
							<input class="checkbox-storable" type="checkbox" id="alt-3-preview">
							<span class="icon-btn"><i class='fas'>&#xf002;</i></span>
						</label>
						<div class="drag-handle">
							<i class="fas alt-icon">&#xf550;</i><div id="alt-3-title" class="renameable title-storable">Lower Third 3</div>
						</div>
						<label class="accordion"></label>
						<div class="hidable">
							<div class="grid-container">
							  <div class="grid-row-1">
							    <div>
									<label class="config-btn">
										<input class="checkbox-storable" type="checkbox" id="alt-3-logo">
										<span class="icon-btn"><i class='fas'>&#xf03e;</i></span>
									</label>
									<label class="config-btn">
										<input class="checkbox-storable" type="checkbox" id="alt-3-background">
										<span class="icon-btn"><i class='fas'>&#xf576;</i></span>
									</label>
									<label class="config-btn">
										<input class="checkbox-storable" type="checkbox" id="alt-3-shadows">
										<span class="icon-btn"><i class='fas fa-rotate-270'>&#xf24d;</i></span>
									</label>
									<div class="align-toggle">
									  <input class="radio-storable" id="alt-3-align-left" name="alt-3-align" type="radio" value="left" checked/>
									  <label for="alt-3-align-left" onclick=""><i class="fas">&#xf036;</i></label>
									  <input class="radio-storable" id="alt-3-align-center" name="alt-3-align" type="radio" value="center" />
									  <label for="alt-3-align-center" onclick=""><i class="fas">&#xf037;</i></label>
									  <input class="radio-storable" id="alt-3-align-right" name="alt-3-align" type="radio" value="right" />
									  <label for="alt-3-align-right" onclick=""><i class="fas">&#xf038;</i></label>
									</div>
							    </div>
							    <div>
									<div id="alt-3-style-color-appearance">
										<div class="tool-tittle">Color 1</div>
										<input class="storable" id="alt-3-style-color-1" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="D54141">
										<div class="tool-tittle">Color 2</div>
										<input class="storable" id="alt-3-style-color-2" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="222222">
									</div>
							    </div>
							  </div>
							  <div class="grid-row-2">
							    <div>
									<div class="number-input">
										<input id="alt-3-style" class="storable" min="1" max="2" name="quantity" value="1" type="number" placeholder="1" readonly>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										<div class="input-icon"><i class="fas">&#xf1fc;</i></div>
									</div>
							    </div>
							    <div>
									<div class="number-input">
										<input id="alt-3-size" class="storable" min="10" max="50" name="quantity" value="24" type="number" placeholder="24">
										<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										<div class="input-icon"><i class="fas">&#xf424;</i></div>
									</div>
							    </div>
							    <div class="margin-config group">
									<div class="number-input">
										<input id="alt-3-margin-h" class="storable" min="0" max="100" name="quantity" value="4" type="number" placeholder="4">
										<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										<div class="input-icon"><i class="fas">&#xf31e;</i></div>
									</div>
									<div class="number-input input-no-icon">
										<input id="alt-3-margin-v" class="storable" min="0" max="55" name="quantity" value="4" type="number" placeholder="4">
										<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
									</div>
							    </div>
							  </div>
							  <div class="grid-row-3">
							    <div>
									<div class="number-input">
									  <input id="alt-3-inverse-ratio" class="storable" min="0" max="10" name="quantity" value="9" type="number" placeholder="9">
									  <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
									  <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
									  <div class="input-icon"><i class="fas">&#xf034;</i></div>
									</div>
							    </div>
							    <div>
									<div class="number-input">
									   <input id="alt-3-line-spacing" class="storable" min="-5" max="5" name="quantity" value="2" type="number" placeholder="0">
									  <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
									  <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
									  <div class="input-icon"><i class="fas fa-rotate-270">&#xf362;</i></div>
									</div>
							    </div>
							    <div class="font-config group">
									<div class="input-icon"><i class="fas">&#xf031;</i></div>
									<select id="alt-3-font" class="font-storable">
										<option value="'Open Sans', sans-serif" selected="selected">Open Sans</option> 
										<option value="'Poppins', sans-serif">Poppins</option>
										<option value="'Raleway', sans-serif">Raleway</option> 
										<option value="'Anonymous Pro', monospace">Anonymous Pro</option> 
										<option value="'Patua One', cursive">Patua One</option>;
										<option value="'Abril Fatface', cursive">Abril Fatface</option>
										<option value="'Lora', serif">Lora</option>
										<option value="'Cookie', cursive">Cookie</option>
										<option value="'Oleo Script', cursive">Oleo Script</option>
										<option value="'Kalam', cursive">Kalam</option>
										<option value="'Fredoka One', cursive">Fredoka One</option>
								    </select>
							    </div>
							  </div>
							</div>					
						</div>
						<div class="textfields-container">
							<input class="storable" type="text" id="alt-3-name" placeholder="Name" tabindex="8">
							<div id="alt-3-name-appearance">
								<label class="config-btn">
								<input class="checkbox-storable" type="checkbox" id="alt-3-name-transform" checked>
								<span class="icon-btn"><i class='fas'>&#xf031;</i><p>a</p></span>
								</label>
								<label class="config-btn">
									<input class="checkbox-storable" type="checkbox" id="alt-3-name-weight" checked>
									<span class="icon-btn"><i class='fas'>&#xf032;</i></span>
								</label>
								<input class="storable" id="alt-3-name-color" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="f2f2f2">
							</div>
							<input class="storable" type="text" id="alt-3-info" placeholder="Info" tabindex="9">
							<div id="alt-3-info-appearance">
								<label class="config-btn">
									<input class="checkbox-storable" type="checkbox" id="alt-3-info-transform">
									<span class="icon-btn"><i class='fas'>&#xf031;</i><p>a</p></span>
								</label>
								<label class="config-btn">
									<input class="checkbox-storable" type="checkbox" id="alt-3-info-weight">
									<span class="icon-btn"><i class='fas'>&#xf032;</i></span>
								</label>
								<input class="storable" id="alt-3-info-color" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="555555">
							</div>	
							<div style="clear:both"></div>
							<div class="panel-bottom">
								<div id="alt-3-clean-inputs" class="clean"><i class="fas">&#xf00d;</i></div>
								<ul id="alt-3-memory-slots">
									<li id="alt-3-slot-1"><div class="slot-storable stored-name" id="alt-3-name-1"></div><div class="slot-storable stored-info" id="alt-3-info-1"></div></li>
									<li id="alt-3-slot-2"><div class="slot-storable stored-name" id="alt-3-name-2"></div><div class="slot-storable stored-info" id="alt-3-info-2"></div></li>
									<li id="alt-3-slot-3"><div class="slot-storable stored-name" id="alt-3-name-3"></div><div class="slot-storable stored-info" id="alt-3-info-3"></div></li>
									<li id="alt-3-slot-4"><div class="slot-storable stored-name" id="alt-3-name-4"></div><div class="slot-storable stored-info" id="alt-3-info-4"></div></li>
									<li id="alt-3-slot-5"><div class="slot-storable stored-name" id="alt-3-name-5"></div><div class="slot-storable stored-info" id="alt-3-info-5"></div></li>
									<li id="alt-3-slot-6"><div class="slot-storable stored-name" id="alt-3-name-6"></div><div class="slot-storable stored-info" id="alt-3-info-6"></div></li>
									<li id="alt-3-slot-7"><div class="slot-storable stored-name" id="alt-3-name-7"></div><div class="slot-storable stored-info" id="alt-3-info-7"></div></li>
									<li id="alt-3-slot-8"><div class="slot-storable stored-name" id="alt-3-name-8"></div><div class="slot-storable stored-info" id="alt-3-info-8"></div></li>
									<li id="alt-3-slot-9"><div class="slot-storable stored-name" id="alt-3-name-9"></div><div class="slot-storable stored-info" id="alt-3-info-9"></div></li>
									<li id="alt-3-slot-10"><div class="slot-storable stored-name" id="alt-3-name-10"></div><div class="slot-storable stored-info" id="alt-3-info-10"></div></li>
								</ul>
								<div class="time-bar">
									<div id="alt-3-active-time-monitor">0</div>
									<div id="alt-3-inactive-time-monitor">0</div>
								</div>
								<label id="alt-3-custom-times" class="accordion"><i class="fas">&#xf017;</i></label>
								<div class="hidable">
									<div class="alt-time-options">
										<div class="settings-title">Custom times</div>
										<div class="settings-inputs">
											<input class="storable" id="alt-3-animation-time" placeholder="(in-out)" tabindex="18">
											<input class="storable" id="alt-3-active-time" placeholder="(active)" tabindex="19">
											<input class="storable" id="alt-3-inactive-time" placeholder="(inactive)" tabindex="20">
										</div>
									</div>
								</div>								
							</div>
						</div>
					</div>
				</div>

				<div class="sortees" id="alt_4"> <!--// Lower Third 4//-->
					<div id="alt-4-config-content">
						<label class="switch">
						<input class="checkbox-storable" type="checkbox" id="lower-thirds-switch4">
						<span class="slider round"></span>
						</label>
						<label class="config-btn preview-btn">
							<input class="checkbox-storable" type="checkbox" id="alt-4-preview">
							<span class="icon-btn"><i class='fas'>&#xf002;</i></span>
						</label>
						<div class="drag-handle">
							<i class="fas alt-icon">&#xf550;</i><div id="alt-4-title" class="renameable title-storable">Lower Third 4</div>
						</div>						
						<label class="accordion"></label>
						<div class="hidable">
							<div class="grid-container">
							  <div class="grid-row-1">
							    <div>
									<label class="config-btn">
										<input class="checkbox-storable" type="checkbox" id="alt-4-logo">
										<span class="icon-btn"><i class='fas'>&#xf03e;</i></span>
									</label>
									<label class="config-btn">
										<input class="checkbox-storable" type="checkbox" id="alt-4-background">
										<span class="icon-btn"><i class='fas'>&#xf576;</i></span>
									</label>
									<label class="config-btn">
										<input class="checkbox-storable" type="checkbox" id="alt-4-shadows">
										<span class="icon-btn"><i class='fas fa-rotate-270'>&#xf24d;</i></span>
									</label>
									<div class="align-toggle">
									  <input class="radio-storable" id="alt-4-align-left" name="alt-4-align" type="radio" value="left" checked/>
									  <label for="alt-4-align-left" onclick=""><i class="fas">&#xf036;</i></label>
									  <input class="radio-storable" id="alt-4-align-center" name="alt-4-align" type="radio" value="center" />
									  <label for="alt-4-align-center" onclick=""><i class="fas">&#xf037;</i></label>
									  <input class="radio-storable" id="alt-4-align-right" name="alt-4-align" type="radio" value="right" />
									  <label for="alt-4-align-right" onclick=""><i class="fas">&#xf038;</i></label>
									</div>
							    </div>
							    <div>
									<div id="alt-4-style-color-appearance">
										<div class="tool-tittle">Color 1</div>
										<input class="storable" id="alt-4-style-color-1" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="D54141">
										<div class="tool-tittle">Color 2</div>
										<input class="storable" id="alt-4-style-color-2" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="222222">
									</div>
							    </div>
							  </div>
							  <div class="grid-row-2">
							    <div>
									<div class="number-input">
										<input id="alt-4-style" class="storable" min="1" max="2" name="quantity" value="1" type="number" placeholder="1" readonly>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										<div class="input-icon"><i class="fas">&#xf1fc;</i></div>
									</div>
							    </div>
							    <div>
									<div class="number-input">
										<input id="alt-4-size" class="storable" min="10" max="50" name="quantity" value="24" type="number" placeholder="24">
										<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										<div class="input-icon"><i class="fas">&#xf424;</i></div>
									</div>
							    </div>
							    <div class="margin-config group">
									<div class="number-input">
										<input id="alt-4-margin-h" class="storable" min="0" max="100" name="quantity" value="4" type="number" placeholder="4">
										<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
										<div class="input-icon"><i class="fas">&#xf31e;</i></div>
									</div>
									<div class="number-input input-no-icon">
										<input id="alt-4-margin-v" class="storable" min="0" max="55" name="quantity" value="4" type="number" placeholder="4">
										<button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
										<button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
									</div>
							    </div>
							  </div>
							  <div class="grid-row-3">
							    <div>
									<div class="number-input">
									  <input id="alt-4-inverse-ratio" class="storable" min="0" max="10" name="quantity" value="9" type="number" placeholder="9">
									  <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
									  <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
									  <div class="input-icon"><i class="fas">&#xf034;</i></div>
									</div>
							    </div>
							    <div>
									<div class="number-input">
									   <input id="alt-4-line-spacing" class="storable" min="-5" max="5" name="quantity" value="2" type="number" placeholder="0">
									  <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="down"></button>
									  <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="up"></button>
									  <div class="input-icon"><i class="fas fa-rotate-270">&#xf362;</i></div>
									</div>
							    </div>
							    <div class="font-config group">
									<div class="input-icon"><i class="fas">&#xf031;</i></div>
									<select id="alt-4-font" class="font-storable">
										<option value="'Open Sans', sans-serif" selected="selected">Open Sans</option> 
										<option value="'Poppins', sans-serif">Poppins</option>
										<option value="'Raleway', sans-serif">Raleway</option> 
										<option value="'Anonymous Pro', monospace">Anonymous Pro</option> 
										<option value="'Patua One', cursive">Patua One</option>;
										<option value="'Abril Fatface', cursive">Abril Fatface</option>
										<option value="'Lora', serif">Lora</option>
										<option value="'Cookie', cursive">Cookie</option>
										<option value="'Oleo Script', cursive">Oleo Script</option>
										<option value="'Kalam', cursive">Kalam</option>
										<option value="'Fredoka One', cursive">Fredoka One</option>
								    </select>
							    </div>
							  </div>
							</div>
						</div>
						<div class="textfields-container">
							<input class="storable" type="text" id="alt-4-name" placeholder="Name" tabindex="10">
							<div id="alt-4-name-appearance">
								<label class="config-btn">
								<input class="checkbox-storable" type="checkbox" id="alt-4-name-transform" checked>
								<span class="icon-btn"><i class='fas'>&#xf031;</i><p>a</p></span>
								</label>
								<label class="config-btn">
									<input class="checkbox-storable" type="checkbox" id="alt-4-name-weight" checked>
									<span class="icon-btn"><i class='fas'>&#xf032;</i></span>
								</label>
								<input class="storable" id="alt-4-name-color" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="f2f2f2">
							</div>
							<input class="storable" type="text" id="alt-4-info" placeholder="Info" tabindex="11">
							<div id="alt-4-info-appearance">
								<label class="config-btn">
									<input class="checkbox-storable" type="checkbox" id="alt-4-info-transform">
									<span class="icon-btn"><i class='fas'>&#xf031;</i><p>a</p></span>
								</label>
								<label class="config-btn">
									<input class="checkbox-storable" type="checkbox" id="alt-4-info-weight">
									<span class="icon-btn"><i class='fas'>&#xf032;</i></span>
								</label>
								<input class="storable" id="alt-4-info-color" data-jscolor="{width:100, padding:5, borderRadius:3, borderWidth:0, controlBorderWidth:0, backgroundColor:'#1f1e1f', position:'right', shadow:true, previewSize:60}" value="555555">
							</div>	
							<div style="clear:both"></div>
							<div class="panel-bottom">
								<div id="alt-4-clean-inputs" class="clean"><i class="fas">&#xf00d;</i></div>
								<ul id="alt-4-memory-slots">
									<li id="alt-4-slot-1"><div class="slot-storable stored-name" id="alt-4-name-1"></div><div class="slot-storable stored-info" id="alt-4-info-1"></div></li>
									<li id="alt-4-slot-2"><div class="slot-storable stored-name" id="alt-4-name-2"></div><div class="slot-storable stored-info" id="alt-4-info-2"></div></li>
									<li id="alt-4-slot-3"><div class="slot-storable stored-name" id="alt-4-name-3"></div><div class="slot-storable stored-info" id="alt-4-info-3"></div></li>
									<li id="alt-4-slot-4"><div class="slot-storable stored-name" id="alt-4-name-4"></div><div class="slot-storable stored-info" id="alt-4-info-4"></div></li>
									<li id="alt-4-slot-5"><div class="slot-storable stored-name" id="alt-4-name-5"></div><div class="slot-storable stored-info" id="alt-4-info-5"></div></li>
									<li id="alt-4-slot-6"><div class="slot-storable stored-name" id="alt-4-name-6"></div><div class="slot-storable stored-info" id="alt-4-info-6"></div></li>
									<li id="alt-4-slot-7"><div class="slot-storable stored-name" id="alt-4-name-7"></div><div class="slot-storable stored-info" id="alt-4-info-7"></div></li>
									<li id="alt-4-slot-8"><div class="slot-storable stored-name" id="alt-4-name-8"></div><div class="slot-storable stored-info" id="alt-4-info-8"></div></li>
									<li id="alt-4-slot-9"><div class="slot-storable stored-name" id="alt-4-name-9"></div><div class="slot-storable stored-info" id="alt-4-info-9"></div></li>
									<li id="alt-4-slot-10"><div class="slot-storable stored-name" id="alt-4-name-10"></div><div class="slot-storable stored-info" id="alt-4-info-10"></div></li>
								</ul>
								<div class="time-bar">
									<div id="alt-4-active-time-monitor">0</div>
									<div id="alt-4-inactive-time-monitor">0</div>
								</div>
								<label id="alt-4-custom-times" class="accordion"><i class="fas">&#xf017;</i></label>
								<div class="hidable">
									<div class="alt-time-options">
										<div class="settings-title">Custom times</div>
										<div class="settings-inputs">
											<input class="storable" id="alt-4-animation-time" placeholder="(in-out)" tabindex="21">
											<input class="storable" id="alt-4-active-time" placeholder="(active)" tabindex="22">
											<input class="storable" id="alt-4-inactive-time" placeholder="(inactive)" tabindex="23">
										</div>
									</div>
								</div>								
							</div>
						</div>
					</div>
				</div>

			</div>

			<div id="alt-preview" class="hide">
				<label><i class="fas">&#xf002;</i>Preview</label>
				<div id="toggle-preview" class="hide"><i class="fas">&#xf078;</i></div>
				<div class="embed-container">
				    <iframe id="myiframe" src="./browser-source.html?mode=preview" frameborder="0" allowfullscreen></iframe>
				</div>
			</div>

		</div>

		<script>
			var bc = new BroadcastChannel('obs-lower-thirds-channel'); //Send to browser source
			var bcr = new BroadcastChannel('obs-lower-thirds-channel2'); //Receives from the source
			var bcp = new BroadcastChannel('obs-lower-thirds-preview'); //Send to preview windows		

			var slotDeleted = false;

			var alt_1_active_time_monitor;
			var alt_1_inactive_time_monitor;
			var alt_2_active_time_monitor;
			var alt_2_inactive_time_monitor;
			var alt_3_active_time_monitor;
			var alt_3_inactive_time_monitor;
			var alt_4_active_time_monitor;
			var alt_4_inactive_time_monitor;

			var alt_1_style = 1;
			var alt_1_inverse_ratio = 9;
			var alt_1_name_size;
			var alt_1_info_size;
			var alt_1_size;
			var alt_1_line_spacing;
			var alt_1_margin_h;
			var alt_1_margin_v;
			var alt_1_shadows;
			var alt_1_font;

			var alt_2_style = 1;
			var alt_2_inverse_ratio = 9;
			var alt_2_name_size;
			var alt_2_info_size;
			var alt_2_size;
			var alt_2_line_spacing;
			var alt_2_margin_h;
			var alt_2_margin_v;
			var alt_2_shadows;
			var alt_2_font;

			var alt_3_style = 1;
			var alt_3_inverse_ratio = 9;
			var alt_3_name_size;
			var alt_3_info_size;
			var alt_3_size;
			var alt_3_line_spacing;
			var alt_3_margin_h;
			var alt_3_margin_v;
			var alt_3_shadows;
			var alt_3_font;

			var alt_4_style = 1;
			var alt_4_inverse_ratio = 9;
			var alt_4_name_size;
			var alt_4_info_size;
			var alt_4_size;
			var alt_4_line_spacing;
			var alt_4_margin_h;
			var alt_4_margin_v;
			var alt_4_shadows;
			var alt_4_font;

			var hotkeyMasterSwitchOld = hotkeyMasterSwitch;
			var hotkeySwitch1Old = hotkeySwitch1;
			var hotkeySwitch2Old = hotkeySwitch2;
			var hotkeySwitch3Old = hotkeySwitch3;
			var hotkeySwitch4Old = hotkeySwitch4;

			var acc = document.getElementsByClassName("accordion");
			var i;

			for (i = 0; i < acc.length; i++) {
			  acc[i].onclick = function() {
			    this.classList.toggle("active");
			    var hidable = this.nextElementSibling;
			    if (hidable.style.maxHeight){
			      hidable.style.maxHeight = null;
			    } else {
			      hidable.style.maxHeight = hidable.scrollHeight + "px";
			    } 
			  }
			}
			//acc[0].onclick() //Open the Main Settings accordion at startup.
			//acc[1].onclick()
			//acc[2].onclick()
			//acc[3].onclick()
			//acc[4].onclick()

			////////////////////

			//Load the theme style
			var theme = localStorage.getItem('theme') ? localStorage.getItem('theme') : 'dark';
			$('head').append('<link rel="stylesheet" href="../common/css/themes/' + theme + '/theme.css"/>');

			function changeTheme(newTheme) {
				$('link[href="../common/css/themes/' + theme + '/theme.css"]').remove();
				var head= document.getElementsByTagName('head')[0];
				var link= document.createElement('link');
				link.rel= "stylesheet";
				link.href= "../common/css/themes/" + newTheme + "/theme.css";
				head.appendChild(link);
				theme = newTheme;
			}
		
			//Theme options to settings
			var themes = ['acri', 'dark', 'rachni'];

			$.each(themes, function(i) {
				var $selected = '';

				if(themes[i] == theme) {
					$selected = 'selected';
				}

				$('#alt-main-config-content #theme').append('<option name="' + themes[i] + '"' + $selected + '>' + themes[i] + '</option>');
			});

			//////////////////

		    $( "#sortable" ).sortable({handle: ".drag-handle"});
		    $( "#sortable" ).on("sortupdate",function( event, ui ) {
		        var sorted = $( this ).sortable( "serialize");
		        //console.log(sorted);
		        localStorage.setItem('sorted', sorted);
		    });
		    
		    if(localStorage.getItem("sorted") !== null){
		      var arrValuesForOrder = localStorage.getItem('sorted').substring(6).split("&alt[]=");
		      var $ul = $("#sortable");
		      $items = $("#sortable").children();

		      // loop backwards so you can just prepend elements in the list
		      // instead of trying to place them at a specific position
		      for (var i = arrValuesForOrder.length - 1; i >= 0; i--) {
		        // index is zero-based to you have to remove one from the values in your array
		        $ul.prepend( $items.get((arrValuesForOrder[i] - 1)));
		      }
		    }

		    $( "#sortable" ).disableSelection();
		    /*
		    //Reset order button
		    $("#clear").click(function(){
		      window.localStorage.removeItem("sorted");
		    });
			*/			

		    ////////////////////

			var oriVal;
			$(".renameable").on('dblclick', function () {
				if ($(this).text()){
					oriVal = $(this).text();					
				}
				$(this).text("");
				$("<input type='text' value='"+ oriVal + "'>").appendTo(this).focus();
			});

			$(".renameable").on('focusout', '> input', function () {
				var newAltTitle = $(this);
				newAltTitle.parent().text(newAltTitle.val() || oriVal);
				newAltTitle.remove();
			});

			////////////////////

			//Reload the hotjeys.js file updated by the LUA script
			function updateHorkeys() {
			    src = '../common/js/hotkeys.js';
			    $('script[src="' + src + '"]').remove();
			    var head= document.getElementsByTagName('head')[0];
		    	var script= document.createElement('script');
		    	script.src= src;
		    	head.appendChild(script);
			}

			//Toggle the switches if a hotkey is pressed
			function checkHotkeys (){
				if (hotkeyMasterSwitch != hotkeyMasterSwitchOld){
					if (document.getElementById("lower-thirds-masterswitch").checked == true) {
		            	document.getElementById("lower-thirds-masterswitch").checked = false;
		            }
		            else {
		            	document.getElementById("lower-thirds-masterswitch").checked = true;
		            }
					hotkeyMasterSwitchOld = hotkeyMasterSwitch;
				}

				if (hotkeySwitch1 != hotkeySwitch1Old){
					if (document.getElementById("lower-thirds-switch1").checked == true) {
						document.getElementById("lower-thirds-switch1").checked = false;
					}
					else {
						document.getElementById("lower-thirds-switch1").checked = true;
					}
					hotkeySwitch1Old = hotkeySwitch1;
				}

				if (hotkeySwitch2 != hotkeySwitch2Old){
					if (document.getElementById("lower-thirds-switch2").checked == true) {
						document.getElementById("lower-thirds-switch2").checked = false;
					}
					else {
						document.getElementById("lower-thirds-switch2").checked = true;
					}
					hotkeySwitch2Old = hotkeySwitch2;
				}

				if (hotkeySwitch3 != hotkeySwitch3Old){
					if (document.getElementById("lower-thirds-switch3").checked == true) {
						document.getElementById("lower-thirds-switch3").checked = false;
					}
					else {
						document.getElementById("lower-thirds-switch3").checked = true;
					}
					hotkeySwitch3Old = hotkeySwitch3;
				}
				if (hotkeySwitch4 != hotkeySwitch4Old){
					if (document.getElementById("lower-thirds-switch4").checked == true) {
						document.getElementById("lower-thirds-switch4").checked = false;
					}
					else {
						document.getElementById("lower-thirds-switch4").checked = true;
					}
					hotkeySwitch4Old = hotkeySwitch4;
				}
			}

			//Memory Slots System
			function checkSlots (memory_slot, name, info) {
				$("ul" + memory_slot + " li").each(function(){
					check_slot_id = $(this).attr('id');
					check_name_id = $(this).children('.stored-name').attr('id');
					check_info_id = $(this).children('.stored-info').attr('id');
					name_value = $(this).children('.stored-name').text();
					info_value = $(this).children('.stored-info').text();
					if ($('#' + check_name_id).is(':empty') && $('#' + check_info_id).is(':empty')){
			  			document.getElementById(check_slot_id).classList.remove("stored");
					} else {
						document.getElementById(check_slot_id).classList.add("stored");
					}
					//Check active slots
					if ($(name).val() == name_value && $(info).val() == info_value){
						if(name_value && info_value){
							document.getElementById(check_slot_id).classList.add("active-slot");
						}
					} else {
						document.getElementById(check_slot_id).classList.remove("active-slot");
					}					
				});
			}

			function memorySlotsSystem (memory_slot, name, info) {
				$("ul" + memory_slot + " li").mousedown(function(e){
					slot_id = $(this).attr('id');
					name_id = $(this).children('.stored-name').attr('id');
					info_id = $(this).children('.stored-info').attr('id');
					name_value = $(this).children('.stored-name').text();
					info_value = $(this).children('.stored-info').text();
					clearTimeout(this.downTimer);
					this.downTimer = setTimeout(function() {
						    document.getElementById(slot_id).classList.add("delete");
							$('#' + name_id)[0].innerHTML = "";
							$('#' + info_id)[0].innerHTML = "";
							slotDeleted = true;
					}, 600);
				}).mouseup(function(e) {
					clearTimeout(this.downTimer);
				    document.getElementById(slot_id).classList.remove("delete");
				    	if (!slotDeleted){
				    		if ($('#' + name_id).is(':empty') && $('#' + info_id).is(':empty')){
								name_to_save = $(name + ":text").val();
								info_to_save = $(info + ":text").val();
								$('#' + name_id)[0].innerHTML = name_to_save;
								$('#' + info_id)[0].innerHTML = info_to_save;
							} else {
								name_to_load = $(this).children('#' + name_id).text();
								info_to_load = $(this).children('#' + info_id).text();
								$(name + ":text").val(name_to_load);
								$(info + ":text").val(info_to_load);							
							}
				    	} else {
							slotDeleted = false;
				    	}
				});
			}
			memorySlotsSystem("#alt-1-memory-slots", "#alt-1-name", "#alt-1-info");
			memorySlotsSystem("#alt-2-memory-slots", "#alt-2-name", "#alt-2-info");
			memorySlotsSystem("#alt-3-memory-slots", "#alt-3-name", "#alt-3-info");
			memorySlotsSystem("#alt-4-memory-slots", "#alt-4-name", "#alt-4-info");

			//////////////////////////////////////

			//Button to clear fields
			$("#alt-1-clean-inputs").click(function(){
				$("#alt-1-name:text").val("");
				$("#alt-1-info:text").val("");
			});
			$("#alt-2-clean-inputs").click(function(){
				$("#alt-2-name:text").val("");
				$("#alt-2-info:text").val("");
			});
			$("#alt-3-clean-inputs").click(function(){
				$("#alt-3-name:text").val("");
				$("#alt-3-info:text").val("");
			});
			$("#alt-4-clean-inputs").click(function(){
				$("#alt-4-name:text").val("");
				$("#alt-4-info:text").val("");
			});

			///////////////////////////////////////

			//Open Preview screen
			$("#toggle-preview").click(function(){
				document.getElementById("toggle-preview").classList.toggle("hide");
				document.getElementById("alt-preview").classList.toggle("hide");
				if (document.getElementById("alt-panel").style.marginBottom == "0px") {
					document.getElementById("alt-panel").style.marginBottom = "255px";
				} else {
					document.getElementById("alt-panel").style.marginBottom = "0px";
				}
			});

			///////////////////////////////////////

			function getAppearance () {
				//Lower Third Style
				alt_1_style = $("#alt-1-style").val();
				if (!alt_1_style){
					alt_1_style = 1;
					$("#alt-1-style").val("1");
				}
				alt_2_style = $("#alt-2-style").val();
				if (!alt_2_style){
					alt_2_style = 1;
					$("#alt-2-style").val("1");
				}
				alt_3_style = $("#alt-3-style").val();
				if (!alt_3_style){
					alt_3_style = 1;
					$("#alt-3-style").val("1");
				}
				alt_4_style = $("#alt-4-style").val();
				if (!alt_4_style){
					alt_4_style = 1;
					$("#alt-4-style").val("1");
				}

				//Calculate Text Sizes using the inverse ratio
				alt_1_inverse_ratio = $("#alt-1-inverse-ratio").val();
				if (!alt_1_inverse_ratio){
					alt_1_inverse_ratio = 9;
				}
				alt_1_name_size = 1 + alt_1_inverse_ratio * 0.1;
				alt_1_info_size = 2 - alt_1_inverse_ratio * 0.1;

				alt_2_inverse_ratio = $("#alt-2-inverse-ratio").val();
				if (!alt_2_inverse_ratio){
					alt_2_inverse_ratio = 9;
				}
				alt_2_name_size = 1 + alt_2_inverse_ratio * 0.1;
				alt_2_info_size = 2 - alt_2_inverse_ratio * 0.1;				

				alt_3_inverse_ratio = $("#alt-3-inverse-ratio").val();
				if (!alt_3_inverse_ratio){
					alt_3_inverse_ratio = 9;
				}
				alt_3_name_size = 1 + alt_3_inverse_ratio * 0.1;
				alt_3_info_size = 2 - alt_3_inverse_ratio * 0.1;

				alt_4_inverse_ratio = $("#alt-4-inverse-ratio").val();
				if (!alt_4_inverse_ratio){
					alt_4_inverse_ratio = 9;
				}
				alt_4_name_size = 1 + alt_4_inverse_ratio * 0.1;
				alt_4_info_size = 2 - alt_4_inverse_ratio * 0.1;				

				//Line Spacing
				alt_1_line_spacing = $("#alt-1-line-spacing").val();
				if (!alt_1_line_spacing){
					alt_1_line_spacing = 0;
				}
				alt_2_line_spacing = $("#alt-2-line-spacing").val();
				if (!alt_2_line_spacing){
					alt_2_line_spacing = 0;
				}
				alt_3_line_spacing = $("#alt-3-line-spacing").val();
				if (!alt_3_line_spacing){
					alt_3_line_spacing = 0;
				}
				alt_4_line_spacing = $("#alt-4-line-spacing").val();
				if (!alt_4_line_spacing){
					alt_4_line_spacing = 0;
				}

				//Lower Third Size
				alt_1_size = $("#alt-1-size").val();
				if (!alt_1_size){
					alt_1_size = 24;
				}
				alt_2_size = $("#alt-2-size").val();
				if (!alt_2_size){
					alt_2_size = 24;
				}
				alt_3_size = $("#alt-3-size").val();
				if (!alt_3_size){
					alt_3_size = 24;
				}
				alt_4_size = $("#alt-4-size").val();
				if (!alt_4_size){
					alt_4_size = 24;
				}

				//Margin from de borders Horizontal and Vertical
				alt_1_margin_h = $("#alt-1-margin-h").val();
				if (!alt_1_margin_h){
					alt_1_margin_h = 4;
				}
				alt_1_margin_v = $("#alt-1-margin-v").val();
				if (!alt_1_margin_v){
					alt_1_margin_v = 4;
				}

				alt_2_margin_h = $("#alt-2-margin-h").val();
				if (!alt_2_margin_h){
					alt_2_margin_h = 4;
				}
				alt_2_margin_v = $("#alt-2-margin-v").val();
				if (!alt_2_margin_v){
					alt_2_margin_v = 4;
				}

				alt_3_margin_h = $("#alt-3-margin-h").val();
				if (!alt_3_margin_h){
					alt_3_margin_h = 4;
				}
				alt_3_margin_v = $("#alt-3-margin-v").val();
				if (!alt_3_margin_v){
					alt_3_margin_v = 4;
				}

				alt_4_margin_h = $("#alt-4-margin-h").val();
				if (!alt_4_margin_h){
					alt_4_margin_h = 4;
				}
				alt_4_margin_v = $("#alt-4-margin-v").val();
				if (!alt_4_margin_v){
					alt_4_margin_v = 4;
				}

				styleRestrictions();
			}

			function styleRestrictions() {
				switch (alt_1_style){
					case "1":
						//Disable: align center | Enable: logo;
						document.getElementById("alt-1-align-center").disabled = true;
						if (document.getElementById("alt-1-align-center").checked == true){
							document.getElementById("alt-1-align-left").checked = true;
						}
						document.getElementById("alt-1-logo").disabled = false;
						break;
					case "2":
						//Disable: logo | Enable: align center;
						document.getElementById("alt-1-align-center").disabled = false;
						document.getElementById("alt-1-logo").disabled = true;
						if (document.getElementById("alt-1-logo").checked == true){
							document.getElementById("alt-1-logo").checked = false;
						}

						break;
					case "3":
						//Disable: - | Enable: Logo, align center;
						document.getElementById("alt-1-align-center").disabled = false;
						document.getElementById("alt-1-logo").disabled = false;
						break;
				}
				switch (alt_2_style){
					case "1":
						//Disable: align center | Enable: logo;
						document.getElementById("alt-2-align-center").disabled = true;
						if (document.getElementById("alt-2-align-center").checked == true){
							document.getElementById("alt-2-align-left").checked = true;
						}
						document.getElementById("alt-2-logo").disabled = false;
						break;
					case "2":
						//Disable: logo | Enable: align center;
						document.getElementById("alt-2-align-center").disabled = false;
						document.getElementById("alt-2-logo").disabled = true;
						if (document.getElementById("alt-2-logo").checked == true){
							document.getElementById("alt-2-logo").checked = false;
						}
						break;
					case "3":
						//Disable: - | Enable: Logo, align center;
						document.getElementById("alt-2-align-center").disabled = false;
						document.getElementById("alt-2-logo").disabled = false;
						break;
				}
				switch (alt_3_style){
					case "1":
						//Disable: align center | Enable: logo;
						document.getElementById("alt-3-align-center").disabled = true;
						if (document.getElementById("alt-3-align-center").checked == true){
							document.getElementById("alt-3-align-left").checked = true;
						}
						document.getElementById("alt-3-logo").disabled = false;
						break;
					case "2":
						//Disable: logo | Enable: align center;
						document.getElementById("alt-3-align-center").disabled = false;
						document.getElementById("alt-3-logo").disabled = true;
						if (document.getElementById("alt-3-logo").checked == true){
							document.getElementById("alt-3-logo").checked = false;
						}
						break;
					case "3":
						//Disable: - | Enable: Logo, align center;
						document.getElementById("alt-3-align-center").disabled = false;
						document.getElementById("alt-3-logo").disabled = false;
						break;
				}
				switch (alt_4_style){
					case "1":
						//Disable: align center | Enable: logo;
						document.getElementById("alt-4-align-center").disabled = true;
						if (document.getElementById("alt-4-align-center").checked == true){
							document.getElementById("alt-4-align-left").checked = true;
						}
						document.getElementById("alt-4-logo").disabled = false;
						break;
					case "2":
						//Disable: logo | Enable: align center;
						document.getElementById("alt-4-align-center").disabled = false;
						document.getElementById("alt-4-logo").disabled = true;
						if (document.getElementById("alt-4-logo").checked == true){
							document.getElementById("alt-4-logo").checked = false;
						}
						break;
					case "3":
						//Disable: - | Enable: Logo, align center;
						document.getElementById("alt-4-align-center").disabled = false;
						document.getElementById("alt-4-logo").disabled = false;
						break;
				}				
			}

			//////////////////////////////////////

			//Receive data from the source
			bcr.onmessage = function (ev) {
				received_data=ev.data.split("|");
				document.getElementById("alt-1-active-time-monitor").innerHTML = received_data[0];
				document.getElementById("alt-1-inactive-time-monitor").innerHTML = received_data[1];
				document.getElementById("alt-2-active-time-monitor").innerHTML = received_data[2];
				document.getElementById("alt-2-inactive-time-monitor").innerHTML = received_data[3];
				document.getElementById("alt-3-active-time-monitor").innerHTML = received_data[4];
				document.getElementById("alt-3-inactive-time-monitor").innerHTML = received_data[5];
				document.getElementById("alt-4-active-time-monitor").innerHTML = received_data[6];
				document.getElementById("alt-4-inactive-time-monitor").innerHTML = received_data[7];

				alt_1_active_time_monitor = received_data[0];
				alt_1_inactive_time_monitor = received_data[1];
				alt_2_active_time_monitor = received_data[2];
				alt_2_inactive_time_monitor = received_data[3];
				alt_3_active_time_monitor = received_data[4];
				alt_3_inactive_time_monitor = received_data[5];
				alt_4_active_time_monitor = received_data[6];
				alt_4_inactive_time_monitor = received_data[7];
			}

			//////////////////////////////////////

			function function_send() {
				global_animation_time = $("#global-animation-time").val();
				global_active_time = $("#global-active-time:text").val();
				global_inactive_time = $("#global-inactive-time:text").val();

				alt_1_name = $("#alt-1-name:text").val();
				alt_1_info = $("#alt-1-info:text").val();				
				alt_1_name_color = $("#alt-1-name-color:text").val();
				alt_1_info_color = $("#alt-1-info-color:text").val();
				alt_1_style_color_1 = $("#alt-1-style-color-1:text").val();
				alt_1_style_color_2 = $("#alt-1-style-color-2:text").val();
				alt_1_animation_time = $("#alt-1-animation-time:text").val();
				alt_1_active_time = $("#alt-1-active-time:text").val();
				alt_1_inactive_time = $("#alt-1-inactive-time:text").val();
				
				alt_2_name = $("#alt-2-name:text").val();
				alt_2_info = $("#alt-2-info:text").val();				
				alt_2_name_color = $("#alt-2-name-color:text").val();
				alt_2_info_color = $("#alt-2-info-color:text").val();
				alt_2_style_color_1 = $("#alt-2-style-color-1:text").val();
				alt_2_style_color_2 = $("#alt-2-style-color-2:text").val();
				alt_2_animation_time = $("#alt-2-animation-time:text").val();
				alt_2_active_time = $("#alt-2-active-time:text").val();
				alt_2_inactive_time = $("#alt-2-inactive-time:text").val();

				alt_3_name = $("#alt-3-name:text").val();
				alt_3_info = $("#alt-3-info:text").val();				
				alt_3_name_color = $("#alt-3-name-color:text").val();
				alt_3_info_color = $("#alt-3-info-color:text").val();
				alt_3_style_color_1 = $("#alt-3-style-color-1:text").val();
				alt_3_style_color_2 = $("#alt-3-style-color-2:text").val();
				alt_3_animation_time = $("#alt-3-animation-time:text").val();
				alt_3_active_time = $("#alt-3-active-time:text").val();
				alt_3_inactive_time = $("#alt-3-inactive-time:text").val();

				alt_4_name = $("#alt-4-name:text").val();
				alt_4_info = $("#alt-4-info:text").val();				
				alt_4_name_color = $("#alt-4-name-color:text").val();
				alt_4_info_color = $("#alt-4-info-color:text").val();
				alt_4_style_color_1 = $("#alt-4-style-color-1:text").val();
				alt_4_style_color_2 = $("#alt-4-style-color-2:text").val();
				alt_4_animation_time = $("#alt-4-animation-time:text").val();
				alt_4_active_time = $("#alt-4-active-time:text").val();
				alt_4_inactive_time = $("#alt-4-inactive-time:text").val();

				//Check Master Switch
				if (document.getElementById("lower-thirds-masterswitch").checked == true) {
					masterSwitchIsOn = true;
					document.getElementById("alt-main-config-content").classList.add("active");
				} else {
					masterSwitchIsOn = false;
					document.getElementById("alt-main-config-content").classList.remove("active");
				}

				//Check switches and blue and red lights in the background to see active and inactive times
				if (masterSwitchIsOn) {
					//When the Main Switch is ON the lower thirds can be Active, Inactive or OFF.
					//Switch 1
					if (document.getElementById("lower-thirds-switch1").checked == true){
						alt_1_switch = "true";
						if (alt_1_active_time_monitor >= 0 && alt_1_inactive_time_monitor == 0 && alt_1_name && alt_1_info){
							document.getElementById("alt-1-config-content").classList.remove("inactive");
							document.getElementById("alt-1-config-content").classList.add("active");
						} else {
							document.getElementById("alt-1-config-content").classList.remove("active");
							document.getElementById("alt-1-config-content").classList.add("inactive");
						}
					} else {
						alt_1_switch = "false";
						document.getElementById("alt-1-config-content").className = '';
					}

					//Switch 2
					if (document.getElementById("lower-thirds-switch2").checked == true){
						alt_2_switch = "true";
						if (alt_2_active_time_monitor >= 0 && alt_2_inactive_time_monitor == 0 && alt_2_name && alt_2_info){
							document.getElementById("alt-2-config-content").classList.remove("inactive");
							document.getElementById("alt-2-config-content").classList.add("active");
						} else {
							document.getElementById("alt-2-config-content").classList.remove("active");
							document.getElementById("alt-2-config-content").classList.add("inactive");
						}
					} else {
						alt_2_switch = "false";
						document.getElementById("alt-2-config-content").className = '';
					}

					//Switch 3
					if (document.getElementById("lower-thirds-switch3").checked == true){
						alt_3_switch = "true";
						if (alt_3_active_time_monitor >= 0 && alt_3_inactive_time_monitor == 0 && alt_3_name && alt_3_info){
							document.getElementById("alt-3-config-content").classList.remove("inactive");
							document.getElementById("alt-3-config-content").classList.add("active");
						} else {
							document.getElementById("alt-3-config-content").classList.remove("active");
							document.getElementById("alt-3-config-content").classList.add("inactive");
						}
					} else {
						alt_3_switch = "false";
						document.getElementById("alt-3-config-content").className = '';
					}

					//Switch 4
					if (document.getElementById("lower-thirds-switch4").checked == true){
						alt_4_switch = "true";
						if (alt_4_active_time_monitor >= 0 && alt_4_inactive_time_monitor == 0 && alt_4_name && alt_4_info){
							document.getElementById("alt-4-config-content").classList.remove("inactive");
							document.getElementById("alt-4-config-content").classList.add("active");
						} else {
							document.getElementById("alt-4-config-content").classList.remove("active");
							document.getElementById("alt-4-config-content").classList.add("inactive");
						}
					} else {
						alt_4_switch = "false";
						document.getElementById("alt-4-config-content").className = '';
					}

				} else {
					//When the Main Switch is OFF all the Lower Thirds area Inactives or OFF.
					//Switch 1
					alt_1_switch = "false";
					if (document.getElementById("lower-thirds-switch1").checked == true) {
						document.getElementById("alt-1-config-content").classList.add("inactive");
						document.getElementById("alt-1-config-content").classList.remove("active");
					} else {
						document.getElementById("alt-1-config-content").className = '';
					}

					//Switch 2
					alt_2_switch = "false";
					if (document.getElementById("lower-thirds-switch2").checked == true) {
						document.getElementById("alt-2-config-content").classList.add("inactive");
						document.getElementById("alt-2-config-content").classList.remove("active");
					} else {
						document.getElementById("alt-2-config-content").className = '';
					}

					//Switch 3					
					alt_3_switch = "false";
					if (document.getElementById("lower-thirds-switch3").checked == true) {
						document.getElementById("alt-3-config-content").classList.add("inactive");
						document.getElementById("alt-3-config-content").classList.remove("active");
					} else {
						document.getElementById("alt-3-config-content").className = '';
					}

					//Switch 4					
					alt_4_switch = "false";
					if (document.getElementById("lower-thirds-switch4").checked == true) {
						document.getElementById("alt-4-config-content").classList.add("inactive");
						document.getElementById("alt-4-config-content").classList.remove("active");
					} else {
						document.getElementById("alt-4-config-content").className = '';
					}

				}

				//////////////////////////////

				//Switch Preview ALT ON/OFF
				if (document.getElementById("alt-1-preview").checked == false) {
					alt_1_preview = "false";
				} else {
					alt_1_preview = "true";
				}			
				if (document.getElementById("alt-2-preview").checked == false) {
					alt_2_preview = "false";
				} else {
					alt_2_preview = "true";
				}	
				if (document.getElementById("alt-3-preview").checked == false) {
					alt_3_preview = "false";
				} else {
					alt_3_preview = "true";
				}	
				if (document.getElementById("alt-4-preview").checked == false) {
					alt_4_preview = "false";
				} else {
					alt_4_preview = "true";
				}	


				//////////////////////////////

				//Switch Logo ON/OFF
				if (document.getElementById("alt-1-logo").checked == false) {
					alt_1_logo_switch = "false";
				} else {
					alt_1_logo_switch = "true";
				}
				if (document.getElementById("alt-2-logo").checked == false) {
					alt_2_logo_switch = "false";
				} else {
					alt_2_logo_switch = "true";
				}
				if (document.getElementById("alt-3-logo").checked == false) {
					alt_3_logo_switch = "false";
				} else {
					alt_3_logo_switch = "true";
				}
				if (document.getElementById("alt-4-logo").checked == false) {
					alt_4_logo_switch = "false";
				} else {
					alt_4_logo_switch = "true";
				}

				//Switch Background ON/OFF
				if (document.getElementById("alt-1-background").checked == false) {
					alt_1_background_switch = "false";
				} else {
					alt_1_background_switch = "true";
				}
				if (document.getElementById("alt-2-background").checked == false) {
					alt_2_background_switch = "false";
				} else {
					alt_2_background_switch = "true";
				}
				if (document.getElementById("alt-3-background").checked == false) {
					alt_3_background_switch = "false";
				} else {
					alt_3_background_switch = "true";
				}
				if (document.getElementById("alt-4-background").checked == false) {
					alt_4_background_switch = "false";
				} else {
					alt_4_background_switch = "true";
				}

				//Switch Shadows ON/OFF
				if (document.getElementById("alt-1-shadows").checked == false) {
					alt_1_shadows = "false";
				} else {
					alt_1_shadows = "true";
				}
				if (document.getElementById("alt-2-shadows").checked == false) {
					alt_2_shadows = "false";
				} else {
					alt_2_shadows = "true";
				}
				if (document.getElementById("alt-3-shadows").checked == false) {
					alt_3_shadows = "false";
				} else {
					alt_3_shadows = "true";
				}
				if (document.getElementById("alt-4-shadows").checked == false) {
					alt_4_shadows = "false";
				} else {
					alt_4_shadows = "true";
				}

				//Name and Info text appearance (Uppercase and Bold)
				if (document.getElementById("alt-1-name-transform").checked == false) {
					alt_1_name_transform = "normal";
				} else {
					alt_1_name_transform = "uppercase";
				}
				if (document.getElementById("alt-1-name-weight").checked == false) {
					alt_1_name_weight = "lighter";
				} else {
					alt_1_name_weight = "bold";
				}
				if (document.getElementById("alt-2-name-transform").checked == false) {
					alt_2_name_transform = "normal";
				} else {
					alt_2_name_transform = "uppercase";
				}
				if (document.getElementById("alt-2-name-weight").checked == false) {
					alt_2_name_weight = "lighter";
				} else {
					alt_2_name_weight = "bold";
				}
				if (document.getElementById("alt-3-name-transform").checked == false) {
					alt_3_name_transform = "normal";
				} else {
					alt_3_name_transform = "uppercase";
				}
				if (document.getElementById("alt-3-name-weight").checked == false) {
					alt_3_name_weight = "lighter";
				} else {
					alt_3_name_weight = "bold";
				}
				if (document.getElementById("alt-4-name-transform").checked == false) {
					alt_4_name_transform = "normal";
				} else {
					alt_4_name_transform = "uppercase";
				}
				if (document.getElementById("alt-4-name-weight").checked == false) {
					alt_4_name_weight = "lighter";
				} else {
					alt_4_name_weight = "bold";
				}

				if (document.getElementById("alt-1-info-transform").checked == false) {
					alt_1_info_transform = "normal";
				} else {
					alt_1_info_transform = "uppercase";
				}
				if (document.getElementById("alt-1-info-weight").checked == false) {
					alt_1_info_weight = "lighter";
				} else {
					alt_1_info_weight = "bold";
				}
				if (document.getElementById("alt-2-info-transform").checked == false) {
					alt_2_info_transform = "normal";
				} else {
					alt_2_info_transform = "uppercase";
				}
				if (document.getElementById("alt-2-info-weight").checked == false) {
					alt_2_info_weight = "lighter";
				} else {
					alt_2_info_weight = "bold";
				}
				if (document.getElementById("alt-3-info-transform").checked == false) {
					alt_3_info_transform = "normal";
				} else {
					alt_3_info_transform = "uppercase";
				}
				if (document.getElementById("alt-3-info-weight").checked == false) {
					alt_3_info_weight = "lighter";
				} else {
					alt_3_info_weight = "bold";
				}
				if (document.getElementById("alt-4-info-transform").checked == false) {
					alt_4_info_transform = "normal";
				} else {
					alt_4_info_transform = "uppercase";
				}
				if (document.getElementById("alt-4-info-weight").checked == false) {
					alt_4_info_weight = "lighter";
				} else {
					alt_4_info_weight = "bold";
				}

				//Font of the Lower Third
				var font_id_1 = document.getElementById("alt-1-font");
				var alt_1_font = font_id_1.options[font_id_1.selectedIndex].value;
				var font_id_2 = document.getElementById("alt-2-font");
				var alt_2_font = font_id_2.options[font_id_2.selectedIndex].value;
				var font_id_3 = document.getElementById("alt-3-font");
				var alt_3_font = font_id_3.options[font_id_3.selectedIndex].value;
				var font_id_4 = document.getElementById("alt-4-font");
				var alt_4_font = font_id_4.options[font_id_4.selectedIndex].value;

				//Alignment of the Lower Third
				var alt_1_align = $('input[name=alt-1-align]:checked').val();
				if (!alt_1_align) {
					document.getElementById("alt-1-align-left").checked = true;
				}
				var alt_2_align = $('input[name=alt-2-align]:checked').val();
				if (!alt_2_align) {
					document.getElementById("alt-2-align-left").checked = true;
				}
				var alt_3_align = $('input[name=alt-3-align]:checked').val();
				if (!alt_3_align) {
					document.getElementById("alt-3-align-left").checked = true;
				}
				var alt_4_align = $('input[name=alt-4-align]:checked').val();
				if (!alt_4_align) {
					document.getElementById("alt-4-align-left").checked = true;
				}

				//Shows if custom time settings is used
				if (alt_1_animation_time || alt_1_active_time || alt_1_inactive_time) {
					$("#alt-1-custom-times").children('i').addClass("active");
				} else {
					$("#alt-1-custom-times").children('i').removeClass("active");
				}
				if (alt_2_animation_time || alt_2_active_time || alt_2_inactive_time) {
					$("#alt-2-custom-times").children('i').addClass("active");
				} else {
					$("#alt-2-custom-times").children('i').removeClass("active");
				}
				if (alt_3_animation_time || alt_3_active_time || alt_3_inactive_time) {
					$("#alt-3-custom-times").children('i').addClass("active");
				} else {
					$("#alt-3-custom-times").children('i').removeClass("active");
				}
				if (alt_4_animation_time || alt_4_active_time || alt_4_inactive_time) {
					$("#alt-4-custom-times").children('i').addClass("active");
				} else {
					$("#alt-4-custom-times").children('i').removeClass("active");
				}

				//Standard Main settings values
				if(global_active_time == "") {
					global_active_time = 25;
				}
				if(global_inactive_time == "") {
					global_inactive_time = 420;
				}
				if(global_animation_time == "") {
					global_animation_time = 4;
				}

				bc.postMessage(global_animation_time + '|' + global_active_time + '|' + global_inactive_time + '|' + alt_1_switch + '|' + alt_1_style + '|' + alt_1_name + '|' + alt_1_info + '|' + alt_1_name_size + '|' + alt_1_info_size  + '|' + alt_1_name_transform + '|' + alt_1_info_transform + '|' + alt_1_name_weight + '|' + alt_1_info_weight + '|' + alt_1_name_color + '|' + alt_1_info_color + '|' + alt_1_style_color_1 + '|' + alt_1_style_color_2 + '|' + alt_1_logo_switch + '|' + alt_1_background_switch + '|' + alt_1_shadows + '|' + alt_1_align + '|' + alt_1_size + '|' + alt_1_margin_h + '|' + alt_1_margin_v + '|' + alt_1_line_spacing + '|' + alt_1_font + '|' + alt_2_switch + '|' + alt_2_style + '|' + alt_2_name + '|' + alt_2_info + '|' + alt_2_name_size + '|' + alt_2_info_size  + '|' + alt_2_name_transform + '|' + alt_2_info_transform + '|' + alt_2_name_weight + '|' + alt_2_info_weight + '|' + alt_2_name_color + '|' + alt_2_info_color + '|' + alt_2_style_color_1 + '|' + alt_2_style_color_2 + '|' + alt_2_logo_switch + '|' + alt_2_background_switch + '|' + alt_2_shadows + '|' + alt_2_align + '|' + alt_2_size + '|' + alt_2_margin_h + '|' + alt_2_margin_v + '|' + alt_2_line_spacing + '|' + alt_2_font + '|' + alt_3_switch + '|' + alt_3_style + '|' + alt_3_name + '|' + alt_3_info + '|' + alt_3_name_size + '|' + alt_3_info_size  + '|' + alt_3_name_transform + '|' + alt_3_info_transform + '|' + alt_3_name_weight + '|' + alt_3_info_weight + '|' + alt_3_name_color + '|' + alt_3_info_color + '|' + alt_3_style_color_1 + '|' + alt_3_style_color_2 + '|' + alt_3_logo_switch + '|' + alt_3_background_switch + '|' + alt_3_shadows + '|' + alt_3_align + '|' + alt_3_size + '|' + alt_3_margin_h + '|' + alt_3_margin_v + '|' + alt_3_line_spacing + '|' + alt_3_font + '|' + alt_4_switch + '|' + alt_4_style + '|' + alt_4_name + '|' + alt_4_info + '|' + alt_4_name_size + '|' + alt_4_info_size  + '|' + alt_4_name_transform + '|' + alt_4_info_transform + '|' + alt_4_name_weight + '|' + alt_4_info_weight + '|' + alt_4_name_color + '|' + alt_4_info_color + '|' + alt_4_style_color_1 + '|' + alt_4_style_color_2 + '|' + alt_4_logo_switch + '|' + alt_4_background_switch + '|' + alt_4_shadows + '|' + alt_4_align + '|' + alt_4_size + '|' + alt_4_margin_h + '|' + alt_4_margin_v + '|' + alt_4_line_spacing + '|' + alt_4_font + '|' + alt_1_animation_time + '|' + alt_1_active_time + '|' + alt_1_inactive_time + '|' + alt_2_animation_time + '|' + alt_2_active_time + '|' + alt_2_inactive_time + '|' + alt_3_animation_time + '|' + alt_3_active_time + '|' + alt_3_inactive_time + '|' + alt_4_animation_time + '|' + alt_4_active_time + '|' + alt_4_inactive_time);

				//Previews
				bcp.postMessage(global_animation_time + '|' + global_active_time + '|' + global_inactive_time + '|' + alt_1_preview + '|' + alt_1_style + '|' + alt_1_name + '|' + alt_1_info + '|' + alt_1_name_size + '|' + alt_1_info_size  + '|' + alt_1_name_transform + '|' + alt_1_info_transform + '|' + alt_1_name_weight + '|' + alt_1_info_weight + '|' + alt_1_name_color + '|' + alt_1_info_color + '|' + alt_1_style_color_1 + '|' + alt_1_style_color_2 + '|' + alt_1_logo_switch + '|' + alt_1_background_switch + '|' + alt_1_shadows + '|' + alt_1_align + '|' + alt_1_size + '|' + alt_1_margin_h + '|' + alt_1_margin_v + '|' + alt_1_line_spacing + '|' + alt_1_font + '|' + alt_2_preview + '|' + alt_2_style + '|' + alt_2_name + '|' + alt_2_info + '|' + alt_2_name_size + '|' + alt_2_info_size  + '|' + alt_2_name_transform + '|' + alt_2_info_transform + '|' + alt_2_name_weight + '|' + alt_2_info_weight + '|' + alt_2_name_color + '|' + alt_2_info_color + '|' + alt_2_style_color_1 + '|' + alt_2_style_color_2 + '|' + alt_2_logo_switch + '|' + alt_2_background_switch + '|' + alt_2_shadows + '|' + alt_2_align + '|' + alt_2_size + '|' + alt_2_margin_h + '|' + alt_2_margin_v + '|' + alt_2_line_spacing + '|' + alt_2_font + '|' + alt_3_preview + '|' + alt_3_style + '|' + alt_3_name + '|' + alt_3_info + '|' + alt_3_name_size + '|' + alt_3_info_size  + '|' + alt_3_name_transform + '|' + alt_3_info_transform + '|' + alt_3_name_weight + '|' + alt_3_info_weight + '|' + alt_3_name_color + '|' + alt_3_info_color + '|' + alt_3_style_color_1 + '|' + alt_3_style_color_2 + '|' + alt_3_logo_switch + '|' + alt_3_background_switch + '|' + alt_3_shadows + '|' + alt_3_align + '|' + alt_3_size + '|' + alt_3_margin_h + '|' + alt_3_margin_v + '|' + alt_3_line_spacing + '|' + alt_3_font + '|' + alt_4_preview + '|' + alt_4_style + '|' + alt_4_name + '|' + alt_4_info + '|' + alt_4_name_size + '|' + alt_4_info_size  + '|' + alt_4_name_transform + '|' + alt_4_info_transform + '|' + alt_4_name_weight + '|' + alt_4_info_weight + '|' + alt_4_name_color + '|' + alt_4_info_color + '|' + alt_4_style_color_1 + '|' + alt_4_style_color_2 + '|' + alt_4_logo_switch + '|' + alt_4_background_switch + '|' + alt_4_shadows + '|' + alt_4_align + '|' + alt_4_size + '|' + alt_4_margin_h + '|' + alt_4_margin_v + '|' + alt_4_line_spacing + '|' + alt_4_font + '|' + alt_1_animation_time + '|' + alt_1_active_time + '|' + alt_1_inactive_time + '|' + alt_2_animation_time + '|' + alt_2_active_time + '|' + alt_2_inactive_time + '|' + alt_3_animation_time + '|' + alt_3_active_time + '|' + alt_3_inactive_time + '|' + alt_4_animation_time + '|' + alt_4_active_time + '|' + alt_4_inactive_time);
			}

			function loadData () {
				$('.storable').each(function(){    
					var id = $(this).attr('id');
					var value = localStorage.getItem(id);
					
					$(this).val(value);              
				});

				$('.slot-storable').each(function(){    
					var id = $(this).attr('id');
					var value = localStorage.getItem(id);

					$(this).text(value);
				});

				$('.checkbox-storable').each(function(){
					var id = $(this).attr('id');
					var checked = JSON.parse(localStorage.getItem(id));
    				document.getElementById(id).checked = checked;
    			});

				$('.radio-storable').each(function(){
					var id = $(this).attr('id');
					var checked = JSON.parse(localStorage.getItem(id));
    				document.getElementById(id).checked = checked;
    			});

				$('.font-storable').each(function(){
					var id = $(this).attr('id');
				    if(localStorage.getItem(id)){
				        $("#" + id).val(localStorage.getItem(id));
				    }
    			});

				$('.title-storable').each(function(){    
					var id = $(this).attr('id');
					var value = localStorage.getItem(id);
					
					if (value) {
						$(this).text(value);
					}
				});

			}

			function saveData () {
				y = 0.05; // Refresh time multiplier

	        	$('.storable').each(function(){    
					var id = $(this).attr('id');
					var value = $(this).val();
					localStorage.setItem(id, value);              
	        	});

	        	$('.slot-storable').each(function(){    
					var id = $(this).attr('id');
					var value = $(this).text();
					localStorage.setItem(id, value);
	        	});

				$('.checkbox-storable').each(function(){
					var id = $(this).attr('id');
					var checkbox = document.getElementById(id);
					localStorage.setItem(id, checkbox.checked);
    			});

				$('.radio-storable').each(function(){
					var id = $(this).attr('id');
					var checkbox = document.getElementById(id);	
					localStorage.setItem(id, checkbox.checked);
    			});

				$('.font-storable').each(function(){
					var id =  $(this).attr('id');
					$("#" + id).change(function() {
				        localStorage.setItem(id, this.value);
				    });
				});

	        	$('.title-storable').each(function(){    
					var id = $(this).attr('id');
					var value = $(this).text();
					localStorage.setItem(id, value);              
	        	});

				$('.select-settings-storable').each(function(){
					var id =  $(this).attr('id');
					$("#" + id).change(function() {
				        localStorage.setItem(id, this.value);
				    });
				});

				//localStorage.clear(); //To clear data fields
	        	setTimeout(saveData, y*1000);
			}

			function refreshData() {
			    x = 0.05; // Refresh time multiplier

			    checkSlots("#alt-1-memory-slots", "#alt-1-name", "#alt-1-info");
				checkSlots("#alt-2-memory-slots", "#alt-2-name", "#alt-2-info");
				checkSlots("#alt-3-memory-slots", "#alt-3-name", "#alt-3-info");
				checkSlots("#alt-4-memory-slots", "#alt-4-name", "#alt-4-info");
			    checkHotkeys();
			    getAppearance();
			    updateHorkeys();

			    function_send();

			    setTimeout(refreshData, x*1000);
			}

			loadData();
			refreshData();
			saveData();

		</script>

	</body>
</html>